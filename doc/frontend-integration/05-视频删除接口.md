# 视频信息删除接口

## 接口信息

- **方法**: DELETE
- **路径**: `/api/v1/videos/{id}`
- **功能**: 逻辑删除指定ID的视频信息

## 路径参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | Long | 是 | 视频ID |

## 请求示例

```http
DELETE /api/v1/videos/1
```

## 响应结果

### 成功响应 (HTTP 200)

```json
{
    "code": 200,
    "message": "删除成功",
    "data": null
}
```

### 错误响应

#### 视频不存在 (HTTP 404)

```json
{
    "code": 1101,
    "message": "视频不存在",
    "data": null
}
```

#### 无效ID格式 (HTTP 400)

```json
{
    "code": 400,
    "message": "请求参数错误",
    "data": null
}
```

#### 删除失败 (HTTP 500)

```json
{
    "code": 1108,
    "message": "视频删除失败",
    "data": null
}
```

## 业务规则

1. **逻辑删除**: 采用逻辑删除方式，不物理删除数据
2. **状态变更**: 将视频状态从1（正常）修改为0（删除）
3. **不可恢复**: 删除后的视频不会在查询结果中显示
4. **重复删除**: 对已删除的视频再次删除会返回404错误

## 删除流程说明

1. 系统首先验证视频ID是否存在
2. 检查视频当前状态是否为正常（status=1）
3. 如果存在且为正常状态，执行逻辑删除
4. 更新视频状态为删除状态（status=0）
5. 返回删除成功响应

## 使用示例

### 删除ID为1的视频

```http
DELETE /api/v1/videos/1
```

### 删除ID为999的视频（不存在）

```http
DELETE /api/v1/videos/999
```

**响应**:
```json
{
    "code": 1101,
    "message": "视频不存在",
    "data": null
}
```

### 删除已删除的视频

```http
DELETE /api/v1/videos/1
```

**响应**:
```json
{
    "code": 1101,
    "message": "视频不存在",
    "data": null
}
```

## 删除验证

删除操作完成后，可以通过以下方式验证：

### 1. 查询被删除的视频

```http
GET /api/v1/videos/1
```

**预期响应**:
```json
{
    "code": 1101,
    "message": "视频不存在",
    "data": null
}
```

### 2. 分页查询不应包含被删除的视频

```http
GET /api/v1/videos?page=1&size=10
```

被删除的视频不会出现在查询结果的`content`数组中。

## 前端处理建议

1. **确认对话框**: 删除前显示确认对话框，防止误操作
2. **提示信息**: 明确告知用户这是永久性操作
3. **批量删除**: 如需批量删除，可循环调用单个删除接口
4. **列表刷新**: 删除成功后刷新视频列表
5. **错误处理**: 处理404错误，提示用户视频已被删除或不存在
6. **权限控制**: 根据用户权限显示删除按钮

## 注意事项

- **不可恢复**: 逻辑删除后无法通过API恢复，需要数据库管理员操作
- **关联数据**: 删除视频不会影响其他可能的关联数据
- **权限验证**: 当前版本暂未实现权限控制，所有用户都可删除
- **日志记录**: 系统会记录删除操作的日志信息 