# 视频信息管理API - 接口概览

## 基础信息

### 服务端点
- **基础URL**: `http://localhost:8190`
- **API前缀**: `/api/v1/videos`
- **Content-Type**: `application/json`
- **字符编码**: `UTF-8`

### 项目技术栈
- **后端框架**: Spring Boot 3.4.5
- **Java版本**: Java 21
- **数据库**: MySQL
- **ORM框架**: MyBatis Plus 3.5.5

## 统一响应格式

所有API接口都使用统一的响应格式：

```json
{
    "code": 200,
    "message": "操作成功",
    "data": {}
}
```

### 响应字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| code | Integer | 状态码，200表示成功 |
| message | String | 响应消息 |
| data | Object | 响应数据，根据具体接口而定 |

## 常用状态码

### 成功状态码
- **200**: 操作成功
- **201**: 创建成功（POST请求）

### 客户端错误状态码
- **400**: 请求参数错误
- **404**: 资源不存在
- **409**: 数据冲突（如重复的视频名称）
- **422**: 参数校验失败

### 业务错误状态码
- **1101**: 视频不存在
- **1102**: 视频已存在
- **1106**: 视频添加失败
- **1107**: 视频更新失败
- **1108**: 视频删除失败

## 接口列表

| 方法 | 路径 | 功能 | 状态码 |
|------|------|------|--------|
| POST | `/api/v1/videos` | 创建视频信息 | 201 |
| GET | `/api/v1/videos` | 分页查询视频信息 | 200 |
| GET | `/api/v1/videos/{id}` | 根据ID查询视频信息 | 200 |
| PUT | `/api/v1/videos/{id}` | 更新视频信息 | 200 |
| DELETE | `/api/v1/videos/{id}` | 删除视频信息 | 200 |

## 时间格式说明

- **接收格式**: ISO 8601标准格式 `YYYY-MM-DDTHH:mm:ss`
- **示例**: `2024-12-01T08:00:00`
- **时区**: 默认使用系统时区

## 分页参数说明

查询接口支持分页，参数如下：

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| page | Integer | 1 | 页码（从1开始） |
| size | Integer | 10 | 每页大小（最大100） |

## 数据校验规则

### 必填字段
- `videoName`: 视频名称，1-255字符
- `shootingTime`: 拍摄时间，不能大于当前时间
- `shootingLocation`: 拍摄地点，1-255字符
- `videoSource`: 视频来源，1-255字符

### 可选字段
- `filePath`: 文件路径，最大500字符
- `fileSize`: 文件大小（字节），必须≥0
- `duration`: 视频时长（秒），必须≥0

## 错误处理

当发生错误时，响应格式如下：

```json
{
    "code": 400,
    "message": "参数校验失败",
    "data": null
}
```

前端应根据`code`字段判断错误类型，并向用户显示相应的错误信息。 